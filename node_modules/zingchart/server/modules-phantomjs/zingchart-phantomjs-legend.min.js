/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.9
*/
var WT={$i:function(e,i){this.b(e);var l=this;l.BD=e,l.IM=!1,l.Z=null,l.A70="",l.KU=1,l.H2=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BD.K+"-legend-"+i.AF;var l=i.BD.A.H.B8,n="("+i.BD.A.AF+")";i.B0=new ZC.HL(i.BD),l.load(i.B0.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.B0.append(e),i.B0.parse(),i.B2=new ZC.HL(i.BD),l.load(i.B2.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.B2.append(e),i.B2.parse()},paint:function(){var e,i=this;if(!i.IM){i.Z=ZC.AL(i.BD.A.K+"-legend-scroll-c");var l=ZC.AL(i.H.K+"-top");"scroll-y"===i.AF?(i.B0.iX=i.BD.iX+i.BD.I-i.B0.I-1,i.B0.iY=i.BD.EP,i.B0.F=i.BD.F-(i.BD.KN?i.BD.KN.F:0)-(i.BD.EP-i.BD.iY),e=Math.ceil(i.BD.B6.length/i.H2-i.BD.EG/i.H2)+1,i.B2.F=i.B0.F/e,i.B2.iY=i.B0.iY,0!==i.BD.D4.min&&(i.B2.iY+=i.BD.D4.min/i.H2*i.B2.F),ZC.AL(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.B0.iX+"px").css("top",i.B2.iY+"px").css("height",i.B2.F-0*i.B2.AU+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.B0.iX+"px").css("top",i.B0.iY+"px"),ZC.A4("#"+i.BD.K+"-frame").css("left",i.BD.iX+"px").css("top",i.BD.EP+"px"),i.paint_()):(i.AAF=ZC.Q.HY({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BD.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.B0.I+"/"+i.B0.F,tl:i.B0.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZM=ZC.Q.HY({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BD.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.B0.I-0*i.B2.AU+"/"+(i.B2.F-0*i.B2.AU),tl:i.B2.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZM.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.B0.iX=i.BD.iX,i.B0.iY=i.BD.iY+i.BD.F-i.B0.F-1,i.B0.I=i.BD.I,e=Math.ceil(i.BD.B6.length/i.KU-i.BD.EG/i.KU)+1,i.B2.I=i.B0.I/e,i.B2.iX=i.B0.iX,0!==i.BD.D4.min&&(i.B2.iX+=i.BD.D4.min/i.KU*i.B2.I),ZC.AL(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.B2.iX+"px").css("top",i.B0.iY+"px").css("width",i.B2.I-0*i.B2.AU+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.B0.iX+"px").css("top",i.B0.iY+"px"),ZC.A4("#"+i.BD.K+"-frame").css("left",i.BD.iX+"px").css("top",i.BD.EP+"px"),i.paint_()):(i.AAH=ZC.Q.HY({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BD.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.B0.I+"/"+i.B0.F,tl:i.B0.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z8=ZC.Q.HY({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BD.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.B2.I-0*i.B2.AU+"/"+(i.B0.F-0*i.B2.AU),tl:i.B0.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z8.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HL(l)).K=l.BD.K+"-scroll-y-legend-bar",e.copy(l.B0),e.Z=l.Z,e.iX=l.B0.iX,e.iY=l.B0.iY,e.I=l.B0.I,e.F=l.B0.F,e.paint(),(i=new ZC.HL(l)).K=l.BD.K+"-scroll-y-legend-handle",i.copy(l.B2),i.Z=l.Z,i.iX=l.B0.iX,i.iY=l.B2.iY,i.I=l.B2.I,i.F=l.B2.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HL(l)).K=l.BD.K+"-scroll-x-legend-bar",e.copy(l.B0),e.Z=l.Z,e.iX=l.B0.iX,e.iY=l.B0.iY,e.I=l.B0.I,e.F=l.B0.F,e.paint(),(i=new ZC.HL(l)).K=l.BD.K+"-scroll-x-legend-handle",i.copy(l.B2),i.Z=l.Z,i.iX=l.B2.iX,i.iY=l.B0.iY,i.I=l.B2.I,i.F=l.B0.F,i.paint())},update:function(e){var i,l,n,o,a,r,t=this,d=t.BD;if("scroll-y"===t.AF){if(e<t.B2.iY&&!1,e===t.B2.iY)return;t.B2.iY=e,ZC.A4("#"+t.K+"-legend-handle").css("top",e+"px"),i=t.B2.iY-t.B0.iY,o=Math.ceil(d.B6.length/t.H2-d.EG/t.H2)+1,l=t.B0.F/o,r=t.H2}else if("scroll-x"===t.AF){if(e>t.B2.iX&&!1,e===t.B2.iX)return;t.B2.iX=e,ZC.A4("#"+t.K+"-legend-handle").css("left",e+"px"),i=t.B2.iX-t.B0.iX,o=Math.ceil(d.B6.length/t.KU-d.EG/t.KU)+1,l=t.B0.I/o,r=t.KU}n=Math.round(i/l),a=d.B6.length-d.EG,d.B6.length%r&&(a+=r-d.B6.length%r),d.D4.min=Math.min(n*r,a),d.D4.max=d.D4.min+d.EG,d.VT(),d.clear(!1),d.parse(),d.paint(),t.paint_(),t.bind()},unbind:function(){var e=this;ZC.A4("."+e.BD.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RA),ZC.A4("."+e.BD.K+"-"+e.AF+"-legend-bar").unbind("click",e.RE)},bind:function(){var e=this,i=e.H.K,l=0,n=0;e.RA=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase();){if(-1!==ZC.Q.T4(a).indexOf("zc-"+e.AF+"-handle"))break;a=a.parentNode}if((ZC.mobile||!(o.which>1))&&a){var r=ZC.Q.MF(o),t=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var d=r[1]-t.top;n=d-e.B2.iY}else if("scroll-x"===e.AF){var A=r[0]-t.left;l=A-e.B2.iX}return ZC.A4(document.body).bind("mousemove touchmove",e.RG),ZC.A4(document.body).bind("mouseup touchend",e.M6),e.IM=!0,!1}}},e.RG=function(o){if(o.preventDefault(),e.IM){var a=ZC.Q.MF(o),r=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var t=a[1]-r.top;t-n<e.B0.iY&&(t=e.B0.iY+n),t-n+e.B2.F>e.B0.iY+e.B0.F&&(t=e.B0.iY+e.B0.F+n-e.B2.F),e.update(t-n)}else if("scroll-x"===e.AF){var d=a[0]-r.left;d-l<e.B0.iX&&(d=e.B0.iX+l),d-l+e.B2.I>e.B0.iX+e.B0.I&&(d=e.B0.iX+e.B0.I+l-e.B2.I),e.update(d-l)}}return!1},e.M6=function(){return e.H.KQ=e.A70.split(","),e.IM&&(ZC.A4(document.body).unbind("mousemove touchmove",e.RG),ZC.A4(document.body).unbind("mouseup touchend",e.M6),e.IM=!1),!1},e.A3V=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BQ(e.B0.iY,e.B2.iY-e.B2.F)):e.update(ZC.CY(e.B0.iY+e.B0.F-e.B2.F,e.B2.iY+e.B2.F))},e.RE=function(l){e.IM=!0;var n=ZC.Q.MF(l),o=ZC.A4("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.B2.iY?e.update(ZC.CY(e.B0.iY+e.B0.F-e.B2.F,e.B2.iY+e.B2.F)):e.update(ZC.BQ(e.B0.iY,e.B2.iY-e.B2.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.B2.iX?e.update(ZC.CY(e.B0.iX+e.B0.I-e.B2.I,e.B2.iX+e.B2.I)):e.update(ZC.BQ(e.B0.iX,e.B2.iX-e.B2.I))),e.IM=!1},ZC.A4("."+e.BD.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RA),ZC.A4("."+e.BD.K+"-"+e.AF+"-legend-bar").bind("click",e.RE)}};ZC.WT=ZC.D0.CA(WT);var V6={$i:function(e){this.b(e);var i=this;i.OB="legend",i.B6=null,i.Q1=null,i.NF="x1",i.IJ="hide",i.R0="",i.PO="",i.UT=!1,i.UY=!1,i.TS="none",i.UJ="header",i.EG=9999,i.D2=null,i.BR=null,i.ZG=null,i.A2=null,i.NK=null,i.FP=null,i.KN=null,i.Q9=0,i.MB=0,i.YG=!0,i.EP=0,i.GM=0,i.sAlign="",i.JY="",i.D4={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.M0=!1,i.NC=!1,i.N8=-1,i.PP=!1,i.A4I=1,i.WJ=0,i.L9=!1,i.XT=!1,i.YF=!1,i.XL=[]},highlightItem:function(e){var i,l,n=this,o=!1,a=ZC.move,r=n.L9;-1!==e&&(r=n.L9||n.A.AY.A5[e].L9),n.o.item&&null!==ZC._n_(i=n.o.item["highlight-item"])&&(o=ZC._b_(i),null===ZC._n_(n.o["highlight-legend"])&&null===n.A.AY.A5[e].o["highlight-legend"]&&(r=o)),(o||r)&&(o&&(n.E["highlight-item"]=e),r&&(n.E["highlight-legend"]=ZC._i_(e)),l=n.scrollTo(ZC._i_(e)),n.VT(),n.clear(!0,l),n.YG=!0,n.parse(),n.fixPlacement(!0),n.paint(),ZC.move=a)},scrollTo:function(e){var i,l,n=this,o=!1;return e>=0&&(e<n.D4.min||e>=n.D4.max)&&(o=!0,"scroll"===n.TS?(e%(l="scroll-y"===n.D2.AF?n.D2.H2:n.D2.KU)&&(e-=e%l),n.D4.min=e,n.D4.max=e+n.EG,n.D4.max>n.B6.length&&(n.D4.min=n.B6.length-n.EG,n.B6.length%l&&(n.D4.min=n.D4.min+(l-n.B6.length%l)),n.D4.max=n.B6.length)):"page"===n.TS&&(i=Math.floor(e/n.EG),n.D4.min=i*n.EG,n.D4.max=n.D4.min+n.EG,n.D4.page=i+1)),o},parse:function(){var e,i,l,n,o=this;if(o.E["force-margins"]=!0,o.Q9=0,o.MB=0,null!==ZC._n_(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(o.o.x=e.x-o.A.iX,o.o.y=e.y-o.A.iY),ZC.move)o.FP&&o.FP.parse(),o.KN&&o.KN.parse();else{n=o.A.H.B8;var a="("+o.A.AF+")";o.b(),o.assign_a([["collapse","M0","b"],["minimize","UT","b"],["draggable","UY","b"],["shared","PP","b"],["overflow","TS"],["max-items","EG","i"],["group","A4I","i"],["drag-handler","UJ"],["highlight-plot","WJ","b"],["highlight-legend","L9","b"],["align","sAlign"],["vertical-align","JY"]]),o.M0&&!o.UT&&(o.M0=!1),zingchart.DEV.MEDIARULES&&(o.E["forced-align-position"]||(o.alignPosition({align:o.sAlign,"vertical-align":o.JY,layout:o.NF}),o.E["forced-align-position"]=!0)),o.WJ&&null===ZC._n_(o.o["highlight-legend"])&&(o.L9=o.WJ),o.BR=new ZC.DN(o),n.load(o.BR.o,a+".legend.item"),o.o.item&&null===ZC._n_(o.o.item.visible)&&(o.o.item.visible=!0),o.BR.append(o.o.item),o.BR.parse(),o.ZG=new ZC.DN(o),n.load(o.ZG.o,a+".legend.item-off"),o.o["item-off"]&&null===ZC._n_(o.o["item-off"].visible)&&(o.o["item-off"].visible=!0),o.ZG.append(o.o["item-off"]),o.ZG.parse(),o.A2=new ZC.DT(o),n.load(o.A2.o,a+".legend.marker"),o.o.marker&&null===ZC._n_(o.o.marker.visible)&&(o.o.marker.visible=!0),o.A2.append(o.o.marker),o.A2.E.type="default",o.A2.E["show-marker"]=!0,o.A2.E["show-line"]=!1,null!==ZC._n_(e=o.A2.o.type)&&(o.A2.E.type=e),null!==ZC._n_(e=o.A2.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.A2.E.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.A2.o.visible=ZC._b_(e)),o.A2.parse(),o.NK=new ZC.DT(o),n.load(o.NK.o,a+".legend.marker-off"),o.o["marker-off"]&&(o.o["marker-off"].visible=!0),o.NK.append(o.o["marker-off"]),o.NK.E.type="default",o.NK.E["show-marker"]=!0,o.NK.E["show-line"]=!1,null!==ZC._n_(e=o.NK.o.type)&&(o.NK.E.type=e),null!==ZC._n_(e=o.NK.o["show-line"])&&(o.NK.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.NK.E.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.NK.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.NK.o.visible=ZC._b_(e)),o.NK.parse(),(null!==ZC._n_(e=o.o.header)||o.UY||o.UT)&&(o.FP=new ZC.DN(o),o.FP.OB="legendheader",o.FP.GL="zc-legend-item "+o.K+"-header",o.FP.K=o.K+"-header",n.load(o.FP.o,a+".legend.header"),o.FP.o.text=o.FP.o.text||" ",o.FP.append(e),o.FP.parse(),o.FP.AN||(o.FP=null)),null!==ZC._n_(e=o.o.footer)&&(o.KN=new ZC.DN(o),o.KN.OB="legendfooter",o.KN.GL="zc-legend-item "+o.K+"-footer",o.KN.K=o.K+"-footer",n.load(o.KN.o,a+".legend.footer"),o.KN.append(e),o.KN.parse(),o.KN.AN||(o.KN=null));var r=o.A.AY.A5;null!==ZC._n_(e=o.o.layout)?o.NF=e:25*r.length>o.A.F&&(o.NF="x"+Math.ceil(25*r.length/o.A.F)),null!==ZC._n_(e=o.o["toggle-action"])&&(o.IJ=e),o.R0=o.PO=o.IJ,null!==ZC._n_(o.o.item)&&null!==ZC._n_(e=o.o.item["toggle-action"])&&(o.R0=e),null!==ZC._n_(o.o.marker)&&null!==ZC._n_(e=o.o.marker["toggle-action"])&&(o.PO=e);var t=function(e){if(r[i]&&r[i].FK(0)){var l=ZC.AP.O2(o.BR.o,r[i].o);e=r[i].FK(0).JT(e,l)}return e},d=[];for(o.B6=[],i=0,l=r.length;i<l;i++){var A=o.A.AY.M4[i],s=new ZC.DN(o);s.copy(o.BR),s.append(r[A].o["legend-item"]),null===ZC._n_(s.o.text)&&null!==ZC._n_(e=r[A].A68)&&(s.o.text=e),null===ZC._n_(s.o.text)&&null!==ZC._n_(e=r[A].AM)&&(s.o.text=e),s.AM=null===ZC._n_(s.o.text)?"Series "+(A+1):s.o.text,s.E.order=A,s.E.index=A,null!==ZC._n_(r[A].o["legend-item"])&&null!==ZC._n_(e=r[A].o["legend-item"].order)&&(s.E.order=ZC._i_(e)),d.push([i,A,s.E.order]),-1!==s.AM.indexOf("%")&&(s.JT=t),s.parse(),o.B6.push(s)}for(d.sort(function(e,i){return e[2]-i[2]}),i=0;i<d.length;i++)d[i][2]=i,r[d[i][1]].o["legend-item"]=r[d[i][1]].o["legend-item"]||{},r[d[i][1]].o["legend-item"].order=d[i][2],o.B6[d[i][0]].E.order=d[i][2];(e=o.A.E["legend-info"])&&(o.NC=e.collapsed)}if(o.B6&&o.A2){"page"===o.TS?((e=o.A.E["legend-info"])?(o.D4.min=e.min,o.D4.max=e.max,o.D4.page=e.page):(o.D4.min=0,o.D4.max=o.EG,o.D4.page=1),o.D4.pages=Math.ceil(o.B6.length/o.EG),o.D4.page>o.D4.pages&&(o.D4.page=o.D4.pages,o.D4.min=(o.D4.page-1)*o.EG,o.D4.max=o.D4.page*o.EG-1),o.D4.page=ZC.CY(o.D4.page,o.D4.pages)):"scroll"===o.TS?(e=o.A.E["legend-info"])?(o.D4.min=e.min,o.D4.max=e.max,o.D4.page=e.page):(o.D4.min=0,o.D4.max=o.EG,o.D4.page=1):(o.D4.min=0,o.D4.max="hidden"===o.TS?o.EG:o.B6.length,o.D4.page=1),o.VT(!1),o.B6.sort(function(e,i){return e.E.order-i.E.order}),o.o["reverse-series"]&&o.B6.reverse();var g=.9*o.A.I;null!==ZC._n_(o.o.width)&&(g=o.I);var Z=0,C=0,B=-ZC.MAX,c=-ZC.MAX,p=o.A2.E["show-line"]?3:2,u=0,m=1,h=1;if("float"===o.NF){for(i=0,l=o.B6.length;i<l;i++)if(u+=o.B6[i].AN?1:0,!(i<o.D4.min||i>=o.D4.max||o.NC)&&o.B6[i].AN){var D=o.B6[i].I+o.B6[i].DY+o.B6[i].E9+p*o.B6[i].DI;c=ZC.BQ(c,o.B6[i].F+o.B6[i].E8+o.B6[i].DR),Z+D>g?(B=ZC.BQ(B,Z),C+=c,Z=D,c=ZC.BQ(c,o.B6[i].F+o.B6[i].E8+o.B6[i].DR)):Z+=D}B=ZC.BQ(B,Z),c!==-ZC.MAX&&(C+=c),B!==-ZC.MAX&&(Z=B)}else{var f=0;for(i=0,l=o.B6.length;i<l;i++)u+=o.B6[i].AN?1:0,i<o.D4.min||i>=o.D4.max||o.NC||(f+=o.B6[i].AN?1:0);var _=ZC.AR.A2C(o.NF,f);for(m=_[0],h=_[1],i=0,l=o.B6.length;i<l;i++)(i<o.D4.min||i>=o.D4.max||o.NC)&&("scroll"!==o.TS||u<=o.EG)||o.B6[i].AN&&(B=ZC.BQ(B,o.B6[i].I+o.B6[i].DY+o.B6[i].E9+p*o.B6[i].DI),c=ZC.BQ(c,o.B6[i].F+o.B6[i].E8+o.B6[i].DR),1===h&&(C+=o.B6[i].F+o.B6[i].E8+o.B6[i].DR));Z=h*B,C=m*c}if("page"===o.TS&&u>o.EG&&(o.D4.enabled=!0),"scroll"===o.TS&&u>o.EG&&(o.D2||(!m||m>h?(o.D2=new ZC.WT(o,"y"),n.load(o.D2.o,".scroll-y")):(o.D2=new ZC.WT(o,"x"),n.load(o.D2.o,".scroll-x")),o.D2.append(o.o.scroll),o.D2.KU=m,o.D2.H2=h,o.D2.parse()),o.NC||("scroll-y"===o.D2.AF?Z+=o.D2.B0.I:C+=o.D2.B0.F)),o.FP){var F=o.FP.I;o.UY&&"icon"===o.UJ?(F+=15,o.UT&&(F+=25)):o.UT&&(F+=15),Z=ZC.BQ(Z,F)}o.KN&&(Z=ZC.BQ(Z,o.KN.I));var v=!1,K=!1;if(null===ZC._n_(o.o.width)&&(o.o.width=Z,v=!0),null===ZC._n_(o.o.height)&&(o.o.height=C,K=!0),o.iX=-1,o.iY=-1,!ZC.move&&o.FP&&null!==ZC._n_(e=o.A.A.E["legend"+o.A.L+"-xy-ratio"])){o.locate();var Y=o.I+o.EQ+o.FN,E=o.F+o.FM+o.FT,I=o.PP?o.A.A:o.A;o.iX=I.I*e[0],o.iX=ZC.BQ(o.iX,1.1),o.o.x=o.iX=ZC.CY(o.iX,I.I-Y-2),o.iY=(I.F-o.FP.F)*e[1],o.iY=ZC.BQ(o.iY,1.1),o.o.y=o.iY=ZC.CY(o.iY,I.F-E-o.FP.F-2)}if(o.locate(),null!==ZC._n_(o.o.position)&&"undefined"!=typeof o.E["position-info"]?(o.E["position-info"][0]>.5&&(o.Q9+=o.EQ+o.FN),o.E["position-info"][1]>.5?o.MB+=o.FM+o.FT:(o.FP&&(o.MB-=o.FP.F),o.KN&&(o.MB-=o.KN.F),o.D4&&o.D4.enabled&&(o.MB-=20))):((0===o.A.iX||o.iX+o.I/2>o.A.iX+o.A.I/2)&&(o.Q9+=o.EQ+o.FN),(0===o.A.iY||o.iY+o.F/2>o.A.iY+o.A.F/2)&&(o.MB+=o.FM+o.FT)),!ZC.move&&(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(e.x&&(o.iX=e.x),e.y&&(o.iY=e.y)),o.GM=o.F,o.EP=o.iY,o.FP&&(o.F+=o.FP.F,o.EP+=o.FP.F,o.MB+=o.FP.F),o.KN&&(o.F+=o.KN.F,o.MB+=o.KN.F),o.D4.enabled&&!o.NC){var b=new ZC.DN(o);b.AM=" ",b.append(o.o["page-status"]),null!==ZC._n_(b.o.text)&&""!==b.o.text||(b.o.text="#"),b.parse(),o.F+=b.F+4,o.MB+=b.F+4}v&&(o.o.width=null),K&&(o.o.height=null),o.NC||(o.I+=o.EQ+o.FN,o.F+=o.FM+o.FT),o.E["default-width"]&&(o.I=o.E["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.H.B8.B8.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},VT:function(e){var i=this;void 0===e&&(e=!0),i.A.E["legend-info"]={collapsed:i.NC,min:i.D4.min,max:i.D4.max,page:i.D4.page},e&&(i.A.A.E["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A4("."+n+"item",o).remove(),ZC.A4("."+n+"header",o).remove(),ZC.A4("."+n+"footer",o).remove(),ZC.A4("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A4("."+n+"page-area",o).remove(),ZC.A4("."+n+"header-area",o).remove(),ZC.A4("."+n+"item-area",o).remove(),ZC.A4("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IV(ZC.AL(n+"c"),l.A.H.AB,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IV(ZC.AL(n+"c"),l.A.H.AB,l.iX-2*l.AU-2*l.JV,l.iY-2*l.AU-2*l.JV,l.I+4*l.AU+4*l.JV,l.F+4*l.AU+4*l.JV),l.D2&&ZC.Q.IV(ZC.AL(n+"scroll-c"),l.A.H.AB,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A4("#"+e.K+"-frame").die(ZC.Q.BZ("mouseover"),e.zc_legend_mouseover).die(ZC.Q.BZ("mouseout"),e.zc_legend_mouseout),ZC.A4("#"+e.K+"-move-area").die(ZC.Q.BZ("mousedown"),e.Z5),ZC.A4("#"+e.K+"-minimize-area").die(ZC.Q.BZ("click"),e.XY),ZC.A4("."+e.K+"-page-area").die(ZC.Q.BZ("click"),e.YY),e.D2&&e.D2.unbind(),e.BR&&e.BR.o.reorder&&ZC.A4("."+e.A.K+"-legend-item-area").die("mousedown",e.W8)},fixPlacement:function(e){var i=this;if(i.YG&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.Q9),i.iX<i.DY&&(i.DY<i.E9||-2===i.E9)&&(i.iX=i.DY),!i.o.position&&e||(i.iY-=i.MB,i.EP-=i.MB),i.iY<i.E8&&(i.E8<i.DR||-2===i.DR)){var l=i.EP-i.iY;i.iY=i.E8,i.EP=i.E8+l}i.YG=!1}},EK:function(e){var i=this;i.FP&&i.FP.EK(e),i.KN&&i.KN.EK(e);for(var l=0;l<i.XL.length;l++)i.XL[l].EK(e)},paint:function(e){var i,l,n,o,a,r,t,d,A,s,g,Z,C,B,c,p,u=this;if(u.AN&&(u.E["default-width"]||(u.E["default-width"]=u.I),u.B6)){var m=ZC.AL(u.H.K+"-top"),h=u.A.AY.A5,D=0;for(r=0,t=u.B6.length;r<t;r++)r<u.D4.min||r>=u.D4.max||u.NC||(D+=u.B6[r].AN?1:0);u.A5J=!0,u.b(),u.FP&&(u.FP.iX=u.iX,u.FP.iY=u.iY,u.FP.I=u.I,u.FP.Z=u.FP.C7=u.Z,u.FP.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.FP.EK(),u.UY&&"icon"===u.UJ&&((n=new ZC.DT(u)).Z=u.Z,n.B7="#000",n.AZ=1,n.DU="line",n.append(u.o.icon),o=u.FP.iX+u.FP.I-10,a=u.FP.iY+u.FP.F/2,n.D=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),u.UT&&((l=new ZC.DT(u)).Z=u.Z,l.B7=ZC.AP.A9O(u.A0,"#fff","#000"),l.AZ=1,l.append(u.o.icon),l.DU="line",o=u.FP.iX+u.FP.I-10-(u.UY&&"icon"===u.UJ?20:0),a=u.FP.iY+u.FP.F/2,l.D=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),u.KN&&(u.KN.iX=u.iX,u.KN.iY=u.iY+u.F-u.KN.F,u.KN.I=u.I,u.KN.Z=u.KN.C7=u.Z,u.KN.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.KN.EK());var f=ZC.AR.A2C(u.NF,D),_=f[0],F=f[1],v=u.I/F,K=u.GM/_,Y=0,E=0;u.Q1=[];var I,b=0,P=-ZC.MAX,X=u.A2.E["show-line"]?3:2,N=null,y=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),h[I]&&h[I].S[e]){var n=ZC.AP.O2(u.BR.o,h[I].o);i=h[I].FK(e).JT(i,n)}return u.XT=u.XT||i!==l,i},x=0;for(u.XT=!1,r=0,t=u.B6.length;r<t;r++)if(!(r-x<u.D4.min||r-x>=u.D4.max||u.NC)){var Q=new ZC.DN(u);Q.copy(u.B6[r]),u.E["highlight-legend"]===r&&(Q.append({bold:!0}),null!==ZC._n_(u.o.item)&&Q.append(u.o.item["highlight-state"])),I=Q.E.index;var w=new ZC.DN(u);w.OB="legenditem",w.K=u.K+"-item_"+I,w.GL="zc-legend-item "+u.K+"-item",w.copy(Q),u.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||w.append(u.ZG.o),w.append(h[I].o["legend-item"]),w.JT=y,w.parse(),w.AN?("float"===u.NF?(P=ZC.BQ(P,Q.F),null===ZC._n_(N)?(Q.iX=u.iX+u.EQ+Q.DY+X*Q.DI,Q.iY=u.EP+u.FM+Q.E8,b=u.EP):(Q.iX=N.iX+N.I+N.E9+Q.DY+X*Q.DI,ZC._i_(Q.iX+Q.I+Q.E9)>ZC._i_(u.iX+u.I)&&(Q.iX=u.iX+u.EQ+Q.DY+X*Q.DI,b+=P+Q.E8+Q.DR,P=-ZC.MAX),Q.iY=b+u.FM+Q.E8)):(Q.iX=u.iX+(0===E?u.EQ:0)+E*v+Q.DY+X*Q.DI,Q.iY=u.EP+u.FM+Y*K+Q.E8,++E===F&&(E=0,Y++)),N=Q,w.iX=Q.iX=ZC._i_(Q.iX),w.iY=Q.iY=ZC._i_(Q.iY),w.Z=w.C7=u.Z,w.iX+=u.BL,w.iY+=u.BH,I===u.N8&&(u.E["calculate-y"]&&(u.E["calculate-y"]=!1,u.E["dragged-offset-y"]=u.E["dragged-y"]-w.iY),w.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]-w.DI/4),w.paint(),"undefined"!=typeof u.E.showhide&&null!==ZC._n_(u.E.showhide)||ZC.move||("canvas"!==u.A.A.AB?w.EK():u.XL.push(w))):x++;var M=u.A2.E.type;null!==ZC._n_(i=h[I].o["legend-marker"])&&null!==ZC._n_(i.type)&&(M=i.type);var H,G=!1;switch("match"!==M&&"inherit"!==M||(G=!0,M=null!==ZC._n_(i=h[I].A2.o.type)?i:"default"),-1!==ZC.AV(["default","square"],M)?H=new ZC.HL(u):(H=new ZC.DT(u)).DU=M,H.OB="legendmarker",H.append(u.A2.o),u.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||H.append(u.NK.o),H.N9=h[I].N9,h[I].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":H.A0=h[I].A0,H.AE=h[I].AE,H.GR=h[I].GR,H.HN=h[I].HN;break;case"scatter":case"hscatter":case"bubble":case"hbubble":H.A0="-1"!==h[I].A2.A0?h[I].A2.A0:h[I].A0,H.AE="-1"!==h[I].A2.AE?h[I].A2.AE:h[I].AE,H.GR=""!==h[I].A2.GR?h[I].A2.GR:h[I].GR,H.HN=""!==h[I].A2.HN?h[I].A2.HN:h[I].HN;break;default:H.A0=h[I].B7,H.AE=h[I].B7}"line"!==H.DU&&"area"!==H.DU||(H.B7=H.A0,H.AZ=2),G&&H.append(h[I].A2.o),H.o["line-style"]="solid",H.o.type=H.DU,H.append(h[I].o["legend-marker"]),G&&(H.o.type=H.DU),H.E["show-marker"]=!0,H.E["show-line"]=!1,null!==ZC._n_(i=H.o["show-line"])&&(H.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-line"])&&(H.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-marker"])&&(H.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],M)&&null!==ZC._n_(i=H.o.size)&&(null===ZC._n_(H.o.width)&&(H.o.width=2*ZC._i_(i)),null===ZC._n_(H.o.height)&&(H.o.height=2*ZC._i_(i))),H.K=u.K+"-marker_"+I,H.Z=H.C7=u.Z,H.iX=w.iX-X*w.DI+(X-1)*w.DI/2+w.DI/2,H.iY=w.iY+(w.F-w.DI)/2+w.DI/2,H.parse(),u.E["highlight-legend"]===r&&(H.append({size:H.AI+1,width:H.I+2,height:H.F+2}),h[I]&&h[I].S[e]&&h[I].S[e].GJ&&H.append({A0:h[I].S[e].GJ.A0,AE:h[I].S[e].GJ.AE}),null!==ZC._n_(u.o.marker)&&H.append(u.o.marker["highlight-state"]),H.parse()),"line"===H.DU?(H.o.points=[[H.iX-1.75*H.AI,H.iY],[H.iX+1.75*H.AI,H.iY]],H.parse()):"area"===H.DU&&(H.o.points=[[H.iX-1.75*H.AI,H.iY+H.AI],[H.iX+1.75*H.AI,H.iY+H.AI],[H.iX+1*H.AI,H.iY-H.AI/2],[H.iX,H.iY],[H.iX-1.25*H.AI,H.iY-H.AI],[H.iX-1.75*H.AI,H.iY+H.AI]],H.parse());var z=H.iX+H.BL,k=H.iY+H.BH;if(-1!==ZC.AV(["default","square"],M)&&(H.iX-=H.I/2,H.iY-=H.F/2),u.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||(H.C6/=4),w.AN&&H.E["show-line"]){var T=ZC.Q.EB(u.Z,u.A.H.AB),U=new ZC.D0(u);U.Z=u.Z,U.copy(h[I]),U.o["line-style"]=u.A2.GF,U.append(h[I].o),U.append(u.A2.o),U.append(h[I].o["legend-item"]),U.append(h[I].o["legend-marker"]),U.parse(),u.A.E["plot"+I+".visible"]||(U.C6=.25);var L=[],R=H.AN?2:1;d="box"===H.DU?H.I/2:H.AI,L.push([z-R*d-(U.AZ>1?1:0),k-(U.AZ>1?.5:0)]),L.push([z+R*d,k-(U.AZ>1?.5:0)]),U.CZ=!0,ZC.CR.paint(T,U,L)}I===u.N8&&(H.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]/2),H.AN&&w.AN&&H.paint(),u.Q1.push(H);var J=!0;if(null!==ZC._n_(i=u.BR.o.toggle)&&(J=ZC._b_(i)),u.E["item.toggle"]=J,(w.AN||H.AN)&&-1===ZC.AV(u.A.H.KQ,"skip_interactivity")){var S=H.BL+("box"===H.DU?H.iX+H.I/2:H.iX),V=H.BH+("box"===H.DU?H.iY+H.F/2:H.iY);d="box"===H.DU?H.I/2:H.AI,A="box"===H.DU?H.F/2:H.AI;var O=(H.E["show-line"]?2:1)*d;ZC.AL(w.K+"-area")||(H.AN&&"disabled"!==u.PO&&"disabled"!==H.o["toggle-action"]&&(ZC.AL(H.K+"-area")||ZC.Q.HY({cls:u.K+"-marker-area zc-legend-marker-area zc-abs",id:H.K+"-area",wh:2*O+"/"+2*A,tl:V-A+"/"+(S-O),opacity:0,background:"#fff",cursor:H.IP,p:m,zidx:1})),w.AN&&"disabled"!==u.R0&&"disabled"!==w.o["toggle-action"]&&(ZC.AL(w.K+"-area")||ZC.Q.HY({cls:u.K+"-item-area zc-legend-item-area zc-abs",id:w.K+"-area",wh:w.I+"/"+w.F,tl:w.iY+w.BH+"/"+(w.iX+w.BL),opacity:0,background:"#fff",cursor:w.IP,p:m,zidx:1})))}}if(u.D2&&!u.NC&&(u.D2.paint(),ZC.AL(u.K+"-scroll-c").style.display="block"),u.D2&&u.NC&&(ZC.AL(u.K+"-scroll-c").style.display="none"),u.D4.enabled&&!u.NC){var W=new ZC.DN(u);W.Z=W.C7=u.Z,W.K=u.K+"-page-status",W.AM=ZC.HJ["legend-pagination"].replace("%page%",u.D4.page).replace("%pages%",u.D4.pages),W.append(u.o["page-status"]),W.parse(),u.I<W.I+48&&(W.AM=u.D4.page+"/"+u.D4.pages,W.parse()),W.iX=u.iX+u.I/2-W.I/2,W.iY=u.iY+u.F-(u.KN?u.KN.F:0)-W.F-4,W.AN&&W.paint();var q=u.A.H.B8,$="("+u.A.AF+")",j={"background-color":"#999"},ee={"background-color":"#f90"};q.load(j,$+".legend.page-off"),q.load(ee,$+".legend.page-on"),(g=new ZC.DT(u)).Z=g.C7=u.Z,g.K=u.K+"-page-prev",g.A0=g.AE=u.D4.page>1?ee["background-color"]:j["background-color"],g.append(u.D4.page>1?u.o["page-on"]:u.o["page-off"]),s=u.iX+u.I/2-W.I/2-6,Z=W.iY+W.F/2,g.parse(),g.AI=ZC.BQ(g.AI,8),p=ZC._i_(.75*g.AI),g.D=[[s,Z-p],[s,Z+p],[s-g.AI,Z],[s,Z-p]],g.parse(),g.AN&&g.paint(),(B=new ZC.DT(u)).Z=B.C7=u.Z,B.K=u.K+"-page-next",B.A0=B.AE=u.D4.page<u.D4.pages?ee["background-color"]:j["background-color"],B.append(u.D4.page<u.D4.pages?u.o["page-on"]:u.o["page-off"]),C=u.iX+u.I/2+W.I/2+6,c=W.iY+W.F/2,B.parse(),B.AI=ZC.BQ(B.AI,8),p=ZC._i_(.75*B.AI),B.D=[[C,c-p],[C,c+p],[C+B.AI,c],[C,c-p]],B.parse(),B.AN&&B.paint()}if(!ZC.move){var ie,le,ne=u.F,oe=u.iY;u.FP&&(ne-=u.FP.F,oe+=u.FP.F),ZC.AL(u.K+"-frame")?ZC.A4("#"+u.K+"-frame").css("top",oe+"px").css("left",u.iX+"px").css("width",u.I+"px").css("height",ne+"px"):ZC.Q.HY({cls:"zc-abs zc-legend-frame "+u.K+"-frame",id:u.K+"-frame",wh:u.I+"/"+ne,tl:oe+"/"+u.iX,opacity:0,background:"#fff",p:m,zidx:0}),u.D4.enabled&&!u.NC&&(u.D4.page>1&&ZC.Q.HY({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-prev-area",wh:g.AI+"/"+2*g.AI,tl:ZC._i_(Z+g.BH-g.AI)+"/"+ZC._i_(s+g.BL-g.AI),opacity:0,p:m,zidx:1}),u.D4.page<u.D4.pages&&ZC.Q.HY({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-next-area",wh:B.AI+"/"+2*B.AI,tl:ZC._i_(c+g.BH-B.AI)+"/"+ZC._i_(C+B.BL),opacity:0,p:m,zidx:1})),u.FP&&u.UY&&("icon"===u.UJ?(le=ZC._i_(u.FP.iY+ZC.MAPTX+n.BH)+"/"+ZC._i_(u.FP.iX+u.FP.I-20+ZC.MAPTX+n.BL),ie="20/"+u.FP.F):(le=ZC._i_(u.FP.iY+ZC.MAPTX)+"/"+ZC._i_(u.FP.iX+ZC.MAPTX),ie=u.FP.I-(u.UT?23:0)+"/"+u.FP.F),ZC.Q.HY({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-move-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.UT&&(u.UY&&"icon"===u.UJ?(le=ZC._i_(u.FP.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(u.FP.iX+u.FP.I-41+ZC.MAPTX+l.BL),ie="20/"+u.FP.F):(le=ZC._i_(u.FP.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(u.FP.iX+u.FP.I-22+ZC.MAPTX+l.BL),ie="20/"+u.FP.F),ZC.Q.HY({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-minimize-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.OQ=0,u.ZW=0,u.zc_legend_mouseover=function(){u.YF=!0},u.zc_legend_mouseout=function(){u.YF=!1},u.Z5=function(e){if(e.preventDefault(),u.H.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){u.A.A.E["graph-"+u.A.K+"-legend-info"]=null;var i=ZC.Q.MF(e),l=ZC.A4("#"+u.A.A.K+"-top").offset();u.OQ=i[0]-l.left-u.FP.iX,u.ZW=i[1]-l.top-u.FP.iY,u.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A4(document.body).bind(ZC.Q.BZ("mousemove"),u.Z6),ZC.A4(document.body).bind(ZC.Q.BZ("mouseup"),u.A0T)}},u.Z6=function(e){var i=ZC.Q.MF(e),l=ZC.A4("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left-u.OQ,o=i[1]-l.top-u.ZW;if(u.PP?(n=ZC.BQ(n,u.H.iX+2),n=ZC.CY(n,u.H.iX+u.H.I-u.I-2),o=ZC.BQ(o,u.H.iY+2),o=ZC.CY(o,u.H.iY+u.H.F-u.F-4)):(n=ZC.BQ(n,u.A.iX+2),n=ZC.CY(n,u.A.iX+u.A.I-u.I-2),o=ZC.BQ(o,u.A.iY+2),o=ZC.CY(o,u.A.iY+u.A.F-u.F-4)),u.PP||(n-=u.A.iX,o-=u.A.iY),u.o.x=n,u.o.y=o,u.o.position=null,u.clear(!0),u.parse(),u.paint(),u.FP){var a=u.PP?u.A.A:u.A;u.A.A.E["legend"+u.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-u.FP.F)]}},u.A0T=function(){ZC.move=!1,document.body.style.cursor=u.oldcursor,delete u.oldcursor,ZC.A4(document.body).unbind(ZC.Q.BZ("mousemove"),u.Z6),ZC.A4(document.body).unbind(ZC.Q.BZ("mouseup"),u.A0T),u.XL=[],u.clear(!1),u.parse(),u.paint(),u.VT()},u.YY=function(e){u.E["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(u.D4.min+=u.EG,u.D4.max+=u.EG,u.D4.page+=1):(u.D4.min-=u.EG,u.D4.max-=u.EG,u.D4.page-=1),(!(i=u.A.A.E["graph-"+u.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(u.iX=null,u.iY=null),u.VT(),u.A.K6()},u.XY=function(e){var i=u.NC?"legendmaximize":"legendminimize";e&&(u.A.A.E["legend-toggling"]=1),zingchart.exec(u.A.H.K,i,{graphid:u.A.L}),e&&(u.A.A.E["legend-toggling"]=0),e&&(u.A.A.E["g"+u.A.L+"-legend-collapsed"]="legendminimize"===i)},u.MQ=function(e){ZC.move=!0;var i=ZC.Q.MF(e),l=ZC.A4("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;u.E["dragged-x"]=n,u.E["dragged-y"]=o,u.VT(),u.clear(!1),u.parse(),u.paint()},u.W8=function(e){if(e.preventDefault(),u.H.hideCM(),u.IP=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(u.E["dragged-offset-y"]=0,u.E["calculate-y"]=!0,u.E["dragged-x"]=0,u.E["dragged-y"]=0,u.N8=ZC._i_(i[1]),u.iDragPos=ZC.AV(u.A.AY.M4,u.N8),ZC.A4(document.body).bind(ZC.Q.BZ("mousemove"),u.MQ),ZC.A4(document.body).bind(ZC.Q.BZ("mouseup"),u.XI))}},u.XI=function(){var e=u.N8,i=u.iDragPos;if(u.N8=-1,u.iDragPos=-1,u.E["calculate-y"]=!1,document.body.style.cursor=u.IP,ZC.move||(e=-1,i=-1),ZC.A4(document.body).unbind(ZC.Q.BZ("mousemove"),u.MQ),ZC.A4(document.body).unbind(ZC.Q.BZ("mouseup"),u.XI),ZC.move&&-1!==e){for(var l=u.A.AY.A5,n=u.A.AY.M4,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var r=l[e].o["legend-item"].order,t=-1,d=0,A=u.Q1.length;d<A;d++)u.E["dragged-y"]-u.E["dragged-offset-y"]/2>u.Q1[d].iY&&(t=d);for(l[e].o["legend-item"].order=-1===t?.5:l[n[t]].o["legend-item"].order+.5,d=0,A=u.Q1.length;d<A;d++)t>i?l[d].o["legend-item"].order<l[e].o["legend-item"].order&&l[d].o["legend-item"].order>r&&l[d].o["legend-item"].order--:l[d].o["legend-item"].order>l[e].o["legend-item"].order&&l[d].o["legend-item"].order<r&&l[d].o["legend-item"].order++;for(l[e].o["legend-item"].order=t>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),d=0,A=u.Q1.length;d<A;d++)u.A.o.series[d]["z-index"]=l[d].o["legend-item"].order}u.A.AY.E["plot-sort"]=!0,ZC.move=!1,u.clear(!1),u.A.K6()},ZC.A4("#"+u.K+"-frame").live(ZC.Q.BZ("mouseover"),u.zc_legend_mouseover).live(ZC.Q.BZ("mouseout"),u.zc_legend_mouseout),ZC.A4("#"+u.K+"-move-area").live(ZC.Q.BZ("mousedown"),u.Z5),ZC.A4("#"+u.K+"-minimize-area").live(ZC.Q.BZ("click"),u.XY),ZC.A4("."+u.K+"-page-area").live(ZC.Q.BZ("click"),u.YY),u.BR.o.reorder&&ZC.A4("."+u.A.K+"-legend-item-area").live("mousedown",u.W8)}u.E.showhide=null,1===u.A.A.E["legend-toggling"]||ZC.move||(u.M0&&null===ZC._n_(u.A.A.E["g"+u.A.L+"-legend-collapsed"])||u.A.A.E["g"+u.A.L+"-legend-collapsed"]&&!u.NC)&&(window.setTimeout(function(){u.XY(!0)},0),u.A.A.E["g"+u.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AP.gc(this,["B6","D","Q1","Z","C7","o","JB","I6","KN","FP","BR","ZG","H","A","A2","NK","D4"])}};ZC.V6=ZC.DN.CA(V6),ZC.WG.push("legend"),ZC.JH.prototype.UL=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BD){if(i.BD.PP&&i.L!==i.A.AG.length-1&&!i.BD.o.force)return;i.BD.Z=i.BD.C7=i.H.usc()?i.H.mc("top"):ZC.AL(i.K+"-legend-c"),i.BD.paint(),-1===ZC.AV(i.H.KQ,"skip_interactivity")&&(i.QI=function(e){var l,n;if(!ZC.move){i.A7&&i.A.A7&&i.A7.AN&&i.A.A7.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),r=i.AY.A5[a];if(r.G0&&(i.BD.WJ||r.IA)&&r.S.length)for(l=0,n=r.S.length;l<n;l++)if(null!==r.S[l]&&r.S[l].JE&&(r.FK(l).A0W("highlight"),i.BD.PP))for(var t=0;t<i.A.AG.length;t++)if(i.A.AG[t].BD&&i.A.AG[t].BD.PP&&i.A.AG[t].AY.A5[r.L]){var d=i.A.AG[t].AY.A5[r.L];d.FK(l)&&d.FK(l).A0W("highlight")}ZC.move=!0;var A=r.L;r.o["legend-item"]&&null!==ZC._n_(r.o["legend-item"].order)&&(A=ZC._i_(r.o["legend-item"].order)),i.BD.o["reverse-series"]&&(A=i.AY.A5.length-1-A),i.BD.highlightItem(A),ZC.move=!1;var s=i.AY.A5[a].UZ(e);i.E["legend-action-index"]=a,ZC.AP.BY("legend_mouseover",i.A,s)}},i.PM=function(e){ZC.move||i.A7&&i.A.A7&&i.A7.AN&&i.A.A7.onmousemove(e)},i.R9=function(e){if(!ZC.move){if(i.A7&&i.A.A7&&i.A7.AN&&i.A.A7.onmouseout(e),i.LD(),i.BD.PP)for(var l=0;l<i.A.AG.length;l++)i.A.AG[l].BD&&i.A.AG[l].BD.PP&&i.A.AG[l].LD();ZC.move=!0,i.BD.highlightItem(-1),ZC.move=!1;var n=ZC._c_(i.E["legend-action-index"],0),o=i.AY.A5[n].UZ(e);ZC.AP.BY("legend_mouseout",i.A,o)}},i.zc_legend_mousescroll=function(e){i.BD.D2&&"scroll-y"===i.BD.D2.AF&&(e.preventDefault(),i.BD.D2.A3V(e))},i.SM=function(l){if(i.E.legend_toggle_action=!0,!(ZC.move||(zingchart.S8(l),l.which>1))){var n,o,a,r=l.targetid||l.target.id,t=ZC._b_(i.BD.BR.o.reorder);ZC.mobile&&i.H.A7&&i.H.A7.hide();var d="item";-1!==r.indexOf("-legend-marker_")&&(d="marker"),i.LD(),l.preventDefault();var A=i.BD.IJ;"item"===d?A=i.BD.R0:"marker"===d&&(A=i.BD.PO),i.A.K9&&(A="remove"),i.E["legend-last-trigger"]=d;var s=ZC._i_(r.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[s]){if(null!==ZC._n_(e=i.o.series[s]["legend-item"])){var g=e.url||"",Z=e.target||"";""!==g&&i.V4(l,g,Z)}i.o.series[s].visible=!0}var C,B,c,p=i.AY.A5[s].UZ(l);switch(p.visible=ZC._b_(i.E["plot"+s+".visible"]),ZC.AP.BY("legend_click",i.A,p),ZC.AP.BY("legend_"+d+"_click",i.A,p),A){default:break;case"hide":case"remove":if(l.shiftKey){var u=0;for(n=0,o=i.AY.A5.length;n<o;n++)if(n!==s&&(a=++u===o-1,i.Q7({"ignore-legend":t,K6:a,plotindex:n,"toggle-action":A}),i.BD.PP))for(C=0,B=i.H.AG.length;C<B;C++)(c=i.H.AG[C]).BD&&c.BD.PP&&c.BD.A4I===i.BD.A4I&&c.K!==i.K&&c.Q7({"ignore-legend":!0,K6:a,plotindex:n,"toggle-action":A})}else if(i.Q7({"ignore-legend":t,K6:1,plotindex:s,"toggle-action":A}),i.BD.PP)for(C=0,B=i.H.AG.length;C<B;C++)(c=i.H.AG[C]).BD&&c.BD.PP&&c.BD.A4I===i.BD.A4I&&c.K!==i.K&&c.Q7({"ignore-legend":!0,K6:1,plotindex:s,"toggle-action":A})}"hide"===A&&i.E.hooks&&(i.OW(),i.QK())}},ZC.A4("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SM).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SM).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A4("."+i.K+"-legend-item-area").live(ZC.Q.BZ("mouseover"),i.QI).live(ZC.Q.BZ("mouseout"),i.R9).live(ZC.Q.BZ("mousemove"),i.PM),ZC.A4("."+i.K+"-legend-marker-area").live(ZC.Q.BZ("mouseover"),i.QI).live(ZC.Q.BZ("mouseout"),i.R9).live(ZC.Q.BZ("mousemove"),i.PM)))}}};