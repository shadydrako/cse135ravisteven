/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.9
*/
zingchart.setModule("chord"),function(){var e;ZC.AE3=((e=function(){this.AEN="palette",this.C2="#6a921f",this.BP=[],this.SY=.8,this.AEI=.1,this.AEG=0,this.AEF=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JD=1,this.K9=!1,this.AGH=function(){for(var e=(16777215*Math.random()+1<<0).toString(16);e.length<6;)e="0"+e;return"#"+e}}).getDefaults=function(t){var l={};return ZC._cp_(e.B8,l),e.NV[t]&&ZC._cp_(e.NV[t],l),l},e.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},e.NV={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},e);var t={},l={},a=null,n=null,r=-1,o=-1,_=function(e){var a=zingchart.getLoader(e.id);if(a){var n=zingchart.getGraph(a,e.graphid);if(n&&"chord"===n.o.type)if(t["chord-"+e.id+"-"+e.graphidx]){l["chord-"+e.id+"-"+e.graphidx]=l["chord-"+e.id+"-"+e.graphidx]||[];var r,o=l["chord-"+e.id+"-"+e.graphidx];-1!==(r=ZC.AV(o,e.plotindex))?o.splice(r,1):o.push(e.plotindex),a.K6()}}};zingchart.bind(null,"legend_item_click",_),zingchart.bind(null,"legend_marker_click",_),zingchart.bind(null,"shape_mouseover",function(e){var l=zingchart.getLoader(e.id);if(l){var a=zingchart.getGraph(l,e.graphid);if(a&&"chord"===a.o.type){var n=t["chord-"+e.id+"-"+e.graphidx];if(n&&!n.K9&&"segment_"===e.shapeid.substring(0,8)){for(var _=ZC._i_(e.shapeid.replace("segment_","")),i=[],p=0;p<r;p++)for(var g=0;g<o;g++)"svg"===l.AB?ZC.A4("#"+a.K+"-shape-chord_"+p+"_"+g+"-path").attr("fill-opacity",_===p||_===g?1:.1):i.push({id:"chord_"+p+"_"+g,alpha:_===p||_===g?1:.1});"svg"!==l.AB&&zingchart.exec(e.id,"updateobject",{type:"shape",graphid:e.graphid,dynamic:!0,data:i})}}}}),zingchart.bind(null,"shape_mouseout",function(e){var l=zingchart.getLoader(e.id);if(l){var a=zingchart.getGraph(l,e.graphid);if(a&&"chord"===a.o.type){var n=t["chord-"+e.id+"-"+e.graphidx];if(n&&!n.K9&&"segment_"===e.shapeid.substring(0,8)){for(var _=[],i=0;i<r;i++)for(var p=0;p<o;p++)"svg"===l.AB?ZC.A4("#"+a.K+"-shape-chord_"+i+"_"+p+"-path").attr("fill-opacity",.75):_.push({id:"chord_"+i+"_"+p,alpha:.75});"svg"!==l.AB&&zingchart.exec(e.id,"updateobject",{type:"shape",graphid:e.graphid,dynamic:!0,data:_})}}}}),zingchart.bind(null,"dataparse",function(e,_){var i,p,g,s,C,u,d=zingchart.getLoader(e.id);zingchart.initThemes(d);for(var h=ZC.AE3.getDefaults(e.theme),Z=0,c=_.graphset.length;Z<c;Z++)if("chord"===_.graphset[Z].type){var f=_.graphset[Z].type,v=_.graphset[Z],b={};v.options&&(b=v.options[f]||v.options),ZC._todash_(b),null!==ZC._n_(a)&&(v.shapes=[],ZC._cpa_(a,v.shapes)),null!==ZC._n_(n)&&(v.labels=[],ZC._cpa_(n,v.labels));var A=new ZC.AE3;t["chord-"+e.id+"-"+Z]=A,null!==ZC._n_(i=b["color-type"])&&(A.AEN=i),null!==ZC._n_(i=b.color)&&(A.C2=ZC.AP.G9(i)),null!==ZC._n_(i=b.palette)?A.BP=i:h.palette.length>0&&(A.BP=h.palette),null!==ZC._n_(i=b.radius)&&(A.SY=ZC._f_(ZC.II(i))),null!==ZC._n_(i=b["band-width"])&&(A.AEI=ZC._f_(ZC.II(i))),null!==ZC._n_(i=b["band-space"])&&(A.AEG=ZC._f_(ZC.II(i))),null!==ZC._n_(i=b["angle-padding"])&&(A.AEF=ZC._i_(i)),null!==ZC._n_(i=b["group-padding"])&&(A.iGroupPadding=ZC._i_(i)),null!==ZC._n_(i=b["group-offset"])&&(A.iGroupOffset=ZC._i_(i)),null!==ZC._n_(i=b["size-factor"])&&(A.JD=ZC._f_(i)),null!==ZC._n_(i=b.flat)&&(A.K9=ZC._b_(i));var x=v.series;for(p=0;p<x.length;p++)x[p]["sort-index"]=p;var y=[];x.sort(function(e,t){return null!==ZC._n_(e.group)&&-1===ZC.AV(y,ZC._i_(e.group))&&y.push(ZC._i_(e.group)),null!==ZC._n_(t.group)&&-1===ZC.AV(y,ZC._i_(t.group))&&y.push(ZC._i_(t.group)),null!==ZC._n_(e.group)&&null!==ZC._n_(t.group)&&ZC._i_(e.group)-ZC._i_(t.group)!=0?ZC._i_(e.group)-ZC._i_(t.group):e["sort-index"]-t["sort-index"]});var E=ZC.BQ(y.length,1),m=l["chord-"+e.id+"-"+Z]||[],B=m.length,z=0;for(p=0,g=x.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(C=0,u=(s=x[p].values||[]).length;C<u;C++)(0===B||B>0&&-1===ZC.AV(m,C))&&(z+=ZC._f_(s[C]));var M=0;for(p=0,g=x.length;p<g;p++)(0===B||B>0&&-1===ZC.AV(m,p))&&M++;if(-1===r&&(r=x.length),-1===o)for(p=0,g=x.length;p<g;p++)s=x[p].values||[],o=ZC.BQ(o,s.length);v.shapes||(v.shapes=[]),a||(a=[],ZC._cpa_(v.shapes,a));var V=v.shapes;v.labels||(v.labels=[]),n||(n=[],ZC._cpa_(v.labels,n));var k,F,D,G,N,w,I,P,R,L,K=v.labels;v.legend&&(v.legend["toggle-action"]="none");var Y,S=360-A.AEF*M-A.iGroupPadding*(E>1?E:0),O=[],Q=[],J=[],U=0,X=0,j=null,H=!1;for(p=0,g=x.length;p<g;p++){ZC._todash_(x[p]),Y=1,null!==ZC._n_(x[p].group)&&(Y=ZC._i_(x[p].group)),H=!1,X=0,null===j&&null!==ZC._n_(x[p].group)?j=ZC._i_(x[p].group):ZC._i_(x[p].group)!==j&&(j=ZC._i_(x[p].group),H=!0),H&&p>0&&(X=A.iGroupPadding);var T=A.C2;if("palette"===A.AEN)if(A.BP.length>0)T=A.BP[p%A.BP.length];else T=zingchart.getPalette(d,p,"bar")[1];else"random"===A.AEN&&(T=A.AGH());if(0===B||B>0&&-1===ZC.AV(m,p)){null===ZC._n_(x[p]["background-color"])&&(x[p]["background-color"]=T),x[p].visible=!0;var q={},W=0;for(C=0,u=(s=x[p].values||[]).length;C<u;C++)(0===B||B>0&&-1===ZC.AV(m,C))&&(W+=ZC._f_(s[C]));for(var $ in q["angle-start"]=U+X,q["angle-end"]=q["angle-start"]+S*W/z,q.group=Y,q.total=W,q.values=x[p].values,x[p])"data-"===$.substr(0,5)&&(q[$]=x[p][$]);U=q["angle-end"]+A.AEF,O.push(q);var ee=zingchart.getInstance(d,"style");ee.append(x[p]),ee.parse(),Q[p]=ee,v.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":ee.A0,"background-color-2":ee.AE}},x[p]),I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.tooltip)&&ZC._cp_(i,I);var te=x[p].text||"";I.text=te;var le={alpha:h.alpha,"border-width":0,"background-color":ee.A0+" "+ee.AE,tooltip:I};null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.band)&&ZC._cp_(i,le),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.band)&&ZC._cp_(i,le),ZC._cp_({type:"pie",id:"segment_"+p,"angle-start":q["angle-start"],"angle-end":q["angle-end"]},le),le.tooltip.text=le.tooltip.text.replace(/%text/gi,te),J.push(le)}else x[p].visible=!1,O.push(null),J.push(null)}var ae=0;if(E>1){var ne=Number.MAX_VALUE,re=-Number.MAX_VALUE;for(p=0,g=O.length;p<g;p++)1===O[p].group&&(ne=Math.min(ne,O[p]["angle-start"]),re=Math.max(re,O[p]["angle-end"]));ae=(re-ne)/2}for(ae+=A.iGroupOffset,p=0,g=O.length;p<g;p++)O[p]&&J[p]&&(O[p]["angle-start"]-=ae,O[p]["angle-end"]-=ae,J[p]["angle-start"]-=ae,J[p]["angle-end"]-=ae,V.push(J[p]));var oe,_e=Number.MAX_VALUE;if(0!==z){for(p=0,g=O.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p)){var ie=Math.pow(10,Math.floor(Math.log(O[p].total)/Math.LN10));ie>0&&(_e=ZC.CY(_e,ie))}for(;!((oe=S*_e/z)<15);)_e/=2}else _e=1;var pe,ge,se,Ce,ue,de,he,Ze=Math.min(0,Math.ceil(Math.log(_e)/Math.LN10)+1),ce=0,fe=0;for(p=0,g=O.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(pe=0,ge=ZC.BQ(1,Math.floor(10/oe)),k=O[p]["angle-start"];k<O[p]["angle-end"];k+=oe)pe%ge==0&&(ue=(se=pe*_e).toFixed(Ze),se>=1e3&&(ue=se/1e3+"k"),se>=1e6&&(ue=se/1e6+"M"),Ce={},ZC._cp_(h.item,Ce),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.item)&&ZC._cp_(i,Ce),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.item)&&ZC._cp_(i,Ce),Ce.text=ue,ZC._todash_(Ce),(de=zingchart.getInstance(d,"textbox")).append(Ce),de.parse(),fe=Math.max(fe,de.DV),ce=Math.max(ce,de.I)),pe++;var ve,be=0,Ae=0,xe=0;for(p=0;p<x.length;p++)ue=x[p].text||"",ve={},ZC._cp_(h.label,ve),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.label)&&ZC._cp_(i,ve),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.label)&&ZC._cp_(i,ve),ve.text=ue,ZC._todash_(ve),(he=zingchart.getInstance(d,"textbox")).append(ve),he.parse(),xe=Math.max(xe,he.DV),be=Math.max(be,he.I),Ae=Math.max(Ae,he.F);if(v.plotarea)for(var ye=["margin","margin-top","margin-right","margin-bottom","margin-left"],Ee=0;Ee<ye.length;Ee++)"dynamic"===v.plotarea[ye[Ee]]&&(0===he.A9?v.plotarea[ye[Ee]]=ce+fe+Ae-20:v.plotarea[ye[Ee]]=ce+fe+be-20);var me,Be,ze=zingchart.getGraphInfo(d,_,Z),Me=ze.plotarea.x+ze.plotarea.width/2,Ve=ze.plotarea.y+ze.plotarea.height/2,ke=ze.graph.x+Me,Fe=ze.graph.y+Ve;for(me=A.SY>1?ZC._i_(A.SY):ZC._i_(A.SY*ZC.CY(ze.plotarea.width/2,ze.plotarea.height/2)),me*=A.JD,Be=A.AEI>1?me-ZC._i_(A.AEI):ZC._i_((1-A.AEI)*me),A.AEG<1&&(A.AEG=ZC._i_(A.AEG*me)),p=0,g=V.length;p<g;p++)V[p].id&&0===V[p].id.indexOf("segment_")&&(V[p].x=Me,V[p].y=Ve,V[p].size=me,V[p].slice=Be);for(p=0,g=O.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p)){pe=0;var De=[],Ge={};ZC._cp_(h.tick,Ge),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.tick)&&ZC._cp_(i,Ge),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.tick)&&ZC._cp_(i,Ge);var Ne=Ge.size||5;for(ge=ZC.BQ(1,Math.floor(10/oe)),w=30,k=O[p]["angle-start"];k<O[p]["angle-end"];k+=oe){var we=ZC.AR.BN(ke,Fe,me,k+.1),Ie=ZC.AR.BN(ke,Fe,me+Ne,k+.1);De.push(we,Ie,null),pe%ge==0&&(ue=(se=pe*_e).toFixed(Ze),se>=1e3&&(ue=se/1e3+"k"),se>=1e6&&(ue=se/1e6+"M"),F=k,D="left",k>90&&k<270&&(F=k-180,D="right"),Ce={},ZC._cp_(h.item,Ce),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.item)&&ZC._cp_(i,Ce),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.item)&&ZC._cp_(i,Ce),w=Ce.width||ce,N=ZC._i_(Ce["offset-r"]||"0"),G=ZC.AR.BN(Me,Ve,me+Ne+N+w/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:w,angle:F,"text-align":D,text:ue},Ce),("undefined"==typeof Ce.visible||ZC._b_(Ce.visible))&&K.push(Ce)),pe++}ZC._cp_({type:"line",id:"ticks"+p,points:De},Ge),("undefined"==typeof Ge.visible||ZC._b_(Ge.visible))&&V.push(Ge),F=k=(O[p]["angle-start"]+O[p]["angle-end"])/2,k<0&&(k+=360),k%=360,D="center",0===he.A9?k>=0&&k<=180?F-=90:F+=90:k>=0&&k<=90||k>=270&&k<=360?F-=90:F+=90;var Pe={};ZC._cp_(h["value-box"],Pe),null!==ZC._n_(v.plot)&&null!==ZC._n_(i=v.plot["value-box"])&&ZC._cp_(i,Pe),null!==ZC._n_(i=x[p]["value-box"])&&ZC._cp_(i,Pe);var Re=ZC.AR.BN(ke,Fe,(me+Be)/2,(O[p]["angle-start"]+O[p]["angle-end"])/2),Le=F;null===ZC._n_(Pe.angle)&&null===ZC._n_(Pe["font-angle"])||(Pe["auto-align"]?null!==ZC._n_(Pe.angle)?Le+=ZC._f_(Pe.angle):Le+=ZC._f_(Pe["font-angle"]):Le=null!==ZC._n_(Pe.angle)?ZC._f_(Pe.angle):ZC._f_(Pe["font-angle"])),ZC._cp_({id:"vbox_"+p,anchor:"c",angle:Le,x:Re[0],y:Re[1],flat:!0},Pe),Pe.text=Pe.text||"%node-value",Pe.text=Pe.text.replace(/%plot-text/gi,x[p].text||"").replace(/%node-value/gi,O[p].total),("undefined"==typeof Pe.visible||ZC._b_(Pe.visible))&&K.push(Pe),ve={},ZC._cp_(h.label,ve),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.label)&&ZC._cp_(i,ve),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.label)&&ZC._cp_(i,ve),R=ve.width||be,L=ve.height||Ae,P=ZC._i_(ve["offset-r"]||"0"),null===ZC._n_(ve.angle)&&null===ZC._n_(ve["font-angle"])||(ve["auto-align"]?(null!==ZC._n_(ve.angle)?F+=ZC._f_(ve.angle):F+=ZC._f_(ve["font-angle"]),0!==he.A9&&(D=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):F=null!==ZC._n_(ve.angle)?ZC._f_(ve.angle):ZC._f_(ve["font-angle"])),G=0===he.A9?ZC.AR.BN(Me,Ve,me+Ne+N+w+P+L,k):ZC.AR.BN(Me,Ve,me+Ne+N+w+P+R/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:R,angle:F,"font-angle":F,"text-align":D,text:x[p].text},ve),("undefined"==typeof ve.visible||ZC._b_(ve.visible))&&K.push(ve)}var Ke=Be-A.AEG;for(p=0,g=O.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(C=0,u=O.length;C<g;C++)if(0===B||B>0&&-1===ZC.AV(m,C)){for(var Ye=0,Se=0,Oe=0;Oe<C;Oe++)(0===B||B>0&&-1===ZC.AV(m,Oe))&&("undefined"==typeof O[p].values[Oe]&&(O[p].values[Oe]=0),Ye+=O[p].values[Oe]);for(Oe=0;Oe<p;Oe++)(0===B||B>0&&-1===ZC.AV(m,Oe))&&("undefined"==typeof O[C].values[Oe]&&(O[C].values[Oe]=0),Se+=O[C].values[Oe]);var Qe=0;"undefined"!=typeof O[p].values[C]&&(Qe=O[p].values[C]);var Je=0;"undefined"!=typeof O[C].values[p]&&(Je=O[C].values[p]);var Ue=O[p]["angle-start"]+(O[p]["angle-end"]-O[p]["angle-start"])*Ye/O[p].total,Xe=Ue+(O[p]["angle-end"]-O[p]["angle-start"])*Qe/O[p].total,je=O[C]["angle-start"]+(O[C]["angle-end"]-O[C]["angle-start"])*Se/O[C].total,He=je+(O[C]["angle-end"]-O[C]["angle-start"])*Je/O[C].total;0===O[p].total&&(Ue=O[p]["angle-start"],Xe=O[p]["angle-end"]),0===O[C].total&&(je=O[C]["angle-start"],He=O[C]["angle-end"]);var Te=ZC.AR.BN(ke,Fe,Ke,Ue),qe=ZC.AR.BN(ke,Fe,Ke,je);I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.tooltip)&&ZC._cp_(i,I);var We=x[p].text||"",$e=x[C].text||"",et={},tt=[];if(p===C?(I.text=We+":"+O[p].values[C],tt=[[Te[0],Te[1]],[ke,Fe,Ke,Ue,Xe,0],[ke,Fe,Te[0],Te[1]]]):p<=C&&(I.text=We+" -> "+$e+":"+O[p].values[C]+"<br>"+$e+" -> "+We+":"+O[C].values[p],tt=[[Te[0],Te[1]],[ke,Fe,Ke,Ue,Xe,0],[ke,Fe,qe[0],qe[1]],[ke,Fe,Ke,je,He,0],[ke,Fe,Te[0],Te[1]]]),tt.length>0){var lt=Qe>=Je?p:C;ZC._cp_({"background-color":Q[lt].A0+" "+Q[lt].AE,alpha:.75,"border-width":1,"border-color":h["border-color-2"],tooltip:I},et),null!==ZC._n_(b.style)&&null!==ZC._n_(i=b.style.chord)&&ZC._cp_(i,et),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.chord)&&ZC._cp_(i,et),ZC._cp_({type:"poly",id:"chord_"+p+"_"+C,dynamic:!0,"fast-vector-path":!0,points:tt},et),p!==C&&null!==ZC._n_(i=et.tooltip["text-chord"])&&(et.tooltip.text=i),et.tooltip.text=et.tooltip.text.replace(/%text-destination/gi,$e).replace(/%value-destination/gi,O[C].values[p]).replace(/%text-source/gi,We).replace(/%value-source/gi,O[p].values[C]).replace(/%text/gi,We).replace(/%value/gi,O[p].values[C]);var at=null;for(var $ in O[p])"data-"===$.substr(0,5)&&(at=new RegExp("%"+$+"-destination","g"),et.tooltip.text=et.tooltip.text.replace(at,O[p][$][C]||""));for(var $ in O[C])"data-"===$.substr(0,5)&&(at=new RegExp("%"+$+"-source","g"),et.tooltip.text=et.tooltip.text.replace(at,O[C][$][p]||""));at=new RegExp("%data-([a-zA-Z0-9]+)-(source|destination)","g"),et.tooltip.text=et.tooltip.text.replace(at,""),at=new RegExp("%data-([a-zA-Z0-9]+)","g"),et.tooltip.text=et.tooltip.text.replace(at,""),("undefined"==typeof et.visible||ZC._b_(et.visible))&&(0===Qe&&0===Je||V.push(et))}}}return _})}();