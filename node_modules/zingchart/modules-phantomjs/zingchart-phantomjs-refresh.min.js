/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.9
*/
ZC.WG.push("refresh"),ZC.JH.prototype.A2Z=function(){var s,e,t=this,a=0;for(s=0,e=t.BO.length;s<e;s++)"k"===t.BO[s].AF&&t.o[t.BO[s].BE]&&t.o[t.BO[s].BE].values&&(a=ZC.BQ(a,t.o[t.BO[s].BE].values.length));for(s=0,e=t.AY.A5.length;s<e;s++)null!==ZC._n_(t.o.series[s])&&t.o.series[s].values&&(a=ZC.BQ(a,t.o.series[s].values.length));return a},ZC.JH.prototype.U7=function(){var s,e=this;if(e.HP)for(var t=e.A2Z(),a=0,r=e.BO.length;a<r;a++)"k"===e.BO[a].AF&&(e.BO[a].CO?(s=(e.BO[a].F-e.BO[a].AC-e.BO[a].BV)/ZC._i_(e.HP["max-ticks"]),e.BO[a].OL=ZC.BQ(0,e.BO[a].F-t*s)):(s=(e.BO[a].I-e.BO[a].AC-e.BO[a].BV)/ZC._i_(e.HP["max-ticks"]),e.BO[a].OL=ZC.BQ(0,e.BO[a].I-t*s)),ZC._b_(e.HP["adjust-scale"])&&(e.BO[a].OL=0),e.BO[a].AC=e.BO[a].A46+e.BO[a].OL,e.A.E[e.BO[a].BE+"-feed-offset-start"]=e.BO[a].AC,e.BO[a].W=ZC.BQ(0,e.BO[a].A1-e.HP["max-ticks"]+1),e.BO[a].IZ())},ZC.JH.prototype.AC2=function(){var s=this,G,MO,ws;if(s.E["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.K]),delete s.E["from-api"]),s.HP){var OP=ZC._i_(s.HP.interval);if(OP=OP>=50?OP:1e3*OP,"full"===s.HP.type)"http"===s.HP.transport?ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.A.N4(s),ZC.ZJ(function(){s.A.load(s.K,s.A9Q)})},OP):"websockets"===s.HP.transport&&ZC.websockets&&(s.H.S9[s.K]?"pull"===s.HP.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.H.S9[s.K].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HP.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HP.type),ws.send("zingchart."+s.HP.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.ME&&(s.A.N4(s),s.ME="full",ZC.ZJ(function(){zingchart.exec(s.A.K,"setdata",{graphid:s.K,data:e.data,softclear:!0})}))},s.H.S9[s.K]=ws));else if("feed"===s.HP.type&&null!==ZC._n_(s.HP.url)){if(null!==ZC._n_(s.HP.curtain)){var O8=s.BU("k");if(O8.length>0&&(ZC.Q.EU(s.K+"-curtain-t"),O8[0].OL>0)){var LT=new ZC.DN(s);s.A.B8.load(LT.o,"("+s.AF+").refresh.curtain"),LT.append(s.HP.curtain),LT.parse(),LT.AN&&(O8[0].CO&&LT.F<=O8[0].OL||!O8[0].CO&&LT.I<=O8[0].OL)&&(LT.K=s.K+"-curtain-t",LT.IL=ZC.AL(s.A.K+"-text-top"),O8[0].CO?(LT.F>O8[0].OL&&(LT.AM="",LT.parse()),LT.iX=s.P.iX,LT.iY=O8[0].AW?s.P.iY:s.P.iY+s.P.F-O8[0].OL,LT.I=s.P.I,LT.F=O8[0].OL):(LT.I>O8[0].OL&&(LT.AM="",LT.parse()),LT.iX=O8[0].AW?s.P.iX+s.P.I-O8[0].OL:s.P.iX,LT.iY=s.P.iY,LT.I=O8[0].OL,LT.F=s.P.F),LT.Z=LT.C7=ZC.AL(s.K+"-scales-ml-0-c"),LT.paint())}}var A12=s.HP.transport,A45=ZC._i_(s.HP["reset-timeout"]),A5A=ZC._i_(s.HP["stop-timeout"]),A97=ZC._b_(s.HP.storage),A08=!0;null!==ZC._n_(s.HP["preserve-data"])&&(A08=ZC._b_(s.HP["preserve-data"]));var A4M=function(KC){for(var U0=eval("("+KC+")"),i,A6,A8M=U0 instanceof Array?U0:[U0],r=0,rLen=A8M.length;r<rLen;r++){var DL=A8M[r];for(i=0,A6=s.BO.length;i<A6;i++)if("k"===s.BO[i].AF){var BE=s.BO[i].BE;null!==ZC._n_(DL[BE])&&null!==ZC._n_(s.o[BE])&&(null===ZC._n_(s.o[BE].values)&&(s.H.o.graphset[s.L][BE].values=[],s.o[BE].values=[]),s.o[BE].values.push(DL[BE]),!A08&&s.o[BE].values.length>ZC._i_(s.HP["max-ticks"])&&s.o[BE].values.splice(0,1),s.H.o.graphset[s.L][BE].values.push(DL[BE]),(s.o[BE].values.length>A45||1===s.MD[1])&&(s.H.o.graphset[s.L][BE].values=[],s.o[BE].values=[],s.H.E["graph"+s.L+".zoom"]&&(s.H.E["graph"+s.L+".zoom"].xmin=null,s.H.E["graph"+s.L+".zoom"].xmax=null),s.HS&&(s.HS.unbind(),ZC.Q.IV(ZC.AL(s.K+"-scroll-x-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A4("#"+s.K+"-scroll-x-handle").remove(),ZC.A4("#"+s.K+"-scroll-x-bar").remove()),s.HQ&&(s.HQ.unbind(),ZC.Q.IV(ZC.AL(s.K+"-scroll-y-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A4("#"+s.K+"-scroll-y-handle").remove(),ZC.A4("#"+s.K+"-scroll-y-bar").remove())),ZC.webstorage&&A97&&ZC.AP.storage.push("zingchart.scale."+s.K+"."+BE,""+DL[BE]))}for(i=0,A6=s.AY.A5.length;i<A6;i++)if(null!==ZC._n_(s.o.series[i])){var A3I=null;null!==ZC._n_(G=DL["plot-"+i])?A3I=G:null!==ZC._n_(G=DL["plot"+i])&&(A3I=G),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.H.o.graphset[s.L].series[i].values.push(A3I),!A08&&s.H.o.graphset[s.L].series[i].values.length>ZC._i_(s.HP["max-ticks"])&&s.H.o.graphset[s.L].series[i].values.splice(0,1)):s.H.o.graphset[s.L].series[i].values=[A3I],ZC.webstorage&&A97&&(G=DL["plot"+i],"object"==typeof G&&(G=G.join("###")),ZC.AP.storage.push("zingchart.plot."+s.K+".plot"+i,""+G)),(s.o.series[i].values.length>A45||1===s.MD[1])&&(ZC.AP.BY("feed_clear",s.A,s.GX(),DL),s.H.o.graphset[s.L].series[i].values=[])}MO=s.A2Z()}("ready"===s.ME||s.GD)&&(1===s.MD[1]&&(s.MD[1]=0),(MO<=A5A||0===A5A)&&(s.ME="feed",ZC.ZJ(function(){ZC.AL(s.A.K+"-main")&&(ZC.AP.BY("feed_step",s.H,s.GX(),s.o),s.parse(),s.clear(!0),s.U7(),s.paint(!0,!0))})))};if("http"===A12||"js"===A12){var EA=s.HP.url;ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){if(1===s.MD[0]||1===s.MD[1])if(s.A.N4(s),"http"===A12){var EV=["query-string"===s.A.N6?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.H.AB:""].join("&");ZC.A4.ajax({type:"GET",url:EA,beforeSend:function(e){s.A.RV.data||"http-headers"!==s.A.N6||e.setRequestHeader("If-Modified-Since","Thu, 01 Jan 1970 00:00:00 GMT")},data:EV,dataType:"text",error:function(){},success:function(s){A4M(s)}})}else if("()"===EA.substring(EA.length-2)||"javascript:"===EA.substring(0,11))try{var EC=EA.replace("javascript:","").replace("()","");eval(EC)&&eval(EC).call(s,function(s){A4M(s)},s.GX())}catch(e){}},OP)}else"websockets"===A12&&ZC.websockets&&(s.H.S9[s.K]?"pull"===s.HP.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.H.S9[s.K].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HP.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HP.type),ws.send("zingchart."+s.HP.method),ws.send("zingchart.startfeed"),"pull"===s.HP.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.MD[0]&&1!==s.MD[1]||A4M(e.data)},s.H.S9[s.K]=ws))}}},zingchart.ABH=function(s,e,t){var a;document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var r=zingchart.getLoader(s);if(r){var n=r.C8(t.graphid);switch(e){case"clearfeed":n.MD[1]=1,0===n.MD[0]&&ZC.ZJ(function(){n.parse(),n.clear(!0),n.U7(),n.paint(!0,!0)});break;case"getinterval":return n.HP.interval;case"setinterval":ZC.AP.BY("feed_interval_modify",r,n.GX()),n.o.refresh=n.o.refresh||{},n.o.refresh.interval=t.interval||1;break;case"stopfeed":1===n.MD[0]&&(ZC.AP.BY("feed_stop",r,n.GX()),n.MD[0]=0,null!==ZC._n_(a=r.S9[n.K])&&a.send("zingchart.stopfeed"));break;case"startfeed":0===n.MD[0]&&(ZC.AP.BY("feed_start",r,n.GX()),n.MD[0]=1,null!==ZC._n_(a=r.S9[n.K])&&a.send("zingchart.startfeed"),ZC.ZJ(function(){n.parse(),n.clear(!0),n.U7(),n.paint(!0,!0)}))}}return null};